#include "../include/cub3d.h"

// DDA Algorithm https://lodev.org/cgtutor/raycasting.html
// Video https://www.youtube.com/watch?v=NbSee-XM7WA&t=1s&ab_channel=javidx9
// Pseudo code 
// vray_start = vplayer_location
// vray_dir = vmouse_cell - vplayer_location.norm()
// vrayunitstepsize = { sqrt(1 + (vRayDiry))}

// https://www.youtube.com/watch?v=W5P8GlaEOSI&ab_channel=AbdulBari
void dda_algo(float x1, float y1, float x2, float y2)
{
    // Get the Deltas
    float dx;
    float dy;
    float xinc;
    float xinc;
    float step;
    int i;

    dx = x2 - x1;
    dy = y2 - y1;
    if(abs(dx) > abs(dy))
        step = abs(dx);
    else 
        step = abs(dy);
    // Get the incrementations
    xinc = dx / step;
    yinc = dy / step;
    i = 1;
    // Draw pixel
    while (i <= step)
    {
        putpixel(x1, y1);
        x1 = x1 + xinc;
        y1 = y1 + yinc;
        i++;
    }
}